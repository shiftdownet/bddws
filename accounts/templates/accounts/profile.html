{% extends "base.html" %}

{% block title %}User profile{% endblock title %}

{% block content %}

{% if not request.user.is_authenticated %}

<script>
    window.location.href = "/accounts/login"
</script>

{% else %}

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="True" viewBox="0 0 16 16">
        <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
    </symbol>
    <symbol id="False" viewBox="0 0 16 16">
        <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z" />
    </symbol>
</svg>

<div class="row my-4">
    <div class="col">
        <h2 class="">{{ view.社員番号 }} {% if view.氏名 %} - {{ view.氏名 }} - {% endif %}</h2>
    </div>
    <div class="col">
        <form class="" method="post" action="{% url 'accounts:logout' %}">
            {% csrf_token %}
            <div class="text-end">
                <a href="{% url 'accounts:password_change' %}" class="btn btn-warning">Change Password</a>
                <button type="submit" class="btn btn-secondary">Sign out</button>
            </div>
        </form>
    </div>
</div>

<table class="table table-striped">
    <thead>
        <tr class="table-dark">
            <th scope="col">項目</td>
            <th scope="col">値</td>
        </tr>
    </thead>
    <tbody>
        {% for key,value in view.items %}
        <tr>
            <th scope="row" style="width:33%;">{{ key }}</th>
            <td>
                {% if value == True %}
                <div style="color:green">
                    <svg class="mx-auto mb-1" width="12" height="12" fill="currentColor">
                        <use xlink:href="#True" />
                    </svg>
                </div>
                {% elif value == False %}
                <div style="color:red">
                    <svg class="mx-auto mb-1" width="12" height="12" fill="currentColor">
                        <use xlink:href="#False" />
                    </svg>
                </div>
                {% else %}
                {{ value }}
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endif %}

{% endblock content %}